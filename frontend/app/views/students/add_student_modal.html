<form ng-submit="sendForm()" autocomplete="off">
  <div class="modal-header">
    <h3 class="modal-title">
      Add Student

      <span class="close no-selection"
            ng-click="$dismiss()">
        &times;
      </span>
    </h3>
  </div>

  <div class="modal-body"
       ng-class="{'disabled-block': !getAvailableLicenses()}">
    <div class="alert alert-danger"
         ng-if="error_msg">
      <ul ng-if="error_msg.length > 1">
        <li ng-repeat="msg in error_msg">
          {{ msg }}
        </li>
      </ul>

      <span ng-if="error_msg.length == 1"
            ng-bind="error_msg">
      </span>
    </div>

    <div class="row">
      <div class="col-xs-6">
        <div class="form-group"
             ng-class="{'has-error': errors.first_name}">
          <label class="control-label">First Name</label>
          <input type="text"
                 class="form-control"
                 placeholder="First Name"
                 ng-model="form.first_name"
                 autofocus
                 required />
        </div>
      </div>
      <div class="col-xs-6">
        <div class="form-group"
             ng-class="{'has-error': errors.last_name}">
          <label class="control-label">Last Name</label>
          <input type="text"
                 class="form-control"
                 placeholder="Last Name"
                 ng-model="form.last_name"
                 required />
        </div>
      </div>
    </div>

    <div class="form-group"
         ng-class="{'has-error': errors.classes}">
      <label class="control-label">Class</label>
      <select class="form-control"
              ng-model="form.classes"
              ng-options="class.id as class.name for class in classes">
        <option value="">Select Class</option>
      </select>
    </div>



    <div class="form-group"
         ng-class="{'has-error': errors.username}">
      <label class="control-label">Username</label>
      <input type="text"
             class="form-control"
             placeholder="Username"
             ng-model="form.username"
             required />
    </div>

    <div class="form-group"
         ng-class="{'has-error': errors.email}">
      <label class="control-label">Email</label>
      <input type="text"
             class="form-control"
             placeholder="E-mail"
             ng-model="form.email" />
    </div>

    <div class="form-group"
         ng-class="{'has-error': errors.password}">
      <label class="control-label">Password</label>
      <input type="password"
             class="form-control"
             placeholder="Password"
             ng-model="form.password" />
    </div>
  </div>

  <div class="modal-footer">
    <div class="pull-left modal-footer__message">
      <span ng-class="{'text-success': getAvailableLicenses(),
                       'text-danger':  !getAvailableLicenses()}">
        You have <b>{{ getAvailableLicenses() }}</b> licences available
      </span>
    </div>

    <button type="submit"
            class="btn btn-primary"
            ng-class="{'disabled': sending || !getAvailableLicenses()}">
      Add Student<span ng-if="sending">..</span>
    </button>
    <button class="btn btn-danger"
            ng-click="$dismiss()">
      Cancel
    </button>
  </div>
</form>
